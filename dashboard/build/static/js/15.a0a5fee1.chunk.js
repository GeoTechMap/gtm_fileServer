(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[15],{685:function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var n=i(40),c=i(173),s=i(174),l=(i(1),i(67)),a=i(684),r=i(10),o=function(e){var t=e.label,i=e.type,o=e.options,j=Object(s.a)(e,["label","type","options"]),d=Object(a.d)(j),u=Object(c.a)(d,2),h=u[0],b=u[1];return Object(r.jsxs)("div",{className:"mb-2",children:[Object(r.jsx)("label",{htmlFor:h.name,children:t}),"textarea"===i?Object(r.jsx)("textarea",Object(n.a)(Object(n.a)({className:"form-control shadow-none ".concat(b.touched&&b.error&&"is-invalid"),placeholder:"Veuillez entrer la description...",rows:"6"},h),j)):"select"===i?Object(r.jsxs)(l.N,Object(n.a)(Object(n.a)(Object(n.a)({name:t,className:"form-control shadow-none ".concat(b.touched&&b.error&&"is-invalid")},h),j),{},{children:[Object(r.jsx)("option",{value:0,children:"Choisir"}),o.map((function(e,t){return Object(r.jsx)("option",{value:e.id,children:e.nom},t)}))]})):"selectString"===i?Object(r.jsxs)(l.N,Object(n.a)(Object(n.a)(Object(n.a)({name:t,className:"form-control shadow-none ".concat(b.touched&&b.error&&"is-invalid")},h),j),{},{children:[Object(r.jsx)("option",{value:0,children:"Choisir"}),o.map((function(e,t){return Object(r.jsx)("option",{value:e,children:e},t)}))]})):Object(r.jsx)("input",Object(n.a)(Object(n.a)({className:"form-control shadow-none ".concat(b.touched&&b.error&&"is-invalid")},h),j)),Object(r.jsx)(a.a,{component:"div",name:h.name,style:{position:"absolute",color:"red",fontSize:".6rem"}})]})}},895:function(e,t,i){"use strict";i.r(t);var n=i(173),c=i(1),s=i.n(c),l=i(684),a=i(685),r=i(703),o=i(67),j=i(44),d=i(680),u=i.n(d),h=i(10);t.default=function(e){var t=e.match,i=Object(c.useState)(!1),d=Object(n.a)(i,2),b=d[0],m=d[1],p=Object(c.useState)(!1),x=Object(n.a)(p,2),O=x[0],f=x[1];Object(c.useEffect)((function(){t.params.id&&fetch("".concat("http://www.geotechmap.ueh.edu.ht","/api/institutions/")+t.params.id).then((function(e){return e.json()})).then((function(e){return v(e.institutionDto)}))}),[t.params.id]);var g=Object(c.useState)(null),y=Object(n.a)(g,2),N=y[0],v=y[1],w=s.a.useState({isActive:!1,status:"",message:""}),C=Object(n.a)(w,2),E=C[0],k=(C[1],r.b({nom:r.c().max(100,"Maximum 100 caract\xe8res").required("Champs obligatire"),sigle:r.c().max(45,"Maximum 45 caract\xe8res"),adresse:r.c().max(45,"Maximum 45 caract\xe8res").required("Champs obligatire"),telephone1:r.c().max(15,"Maximum 15 caract\xe8res").required("Champs obligatire"),telephone2:r.c().max(15,"Maximum 15 caract\xe8res"),email:r.c().email("Email invalide").required("Champs obligatire"),siteWeb:r.c().max(45,"Maximum 45 caract\xe8res"),numeroFiscal:r.c().max(45,"Maximum 45 caract\xe8res").required("Champs obligatire"),description:r.c().max(255,"Maximum 255 caract\xe8res")})),z=Object(c.useState)(!1),S=Object(n.a)(z,2),V=S[0],M=S[1];return Object(h.jsxs)("div",{children:[Object(h.jsx)(l.c,{initialValues:N||{nom:"",sigle:"",adresse:"",telephone1:"",telephone2:"",email:"",siteWeb:"",numeroFiscal:"",description:""},enableReinitialize:!0,validationSchema:k,onSubmit:function(e){M(!0);var i={method:t.params.id?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(j.a.getToken())},body:JSON.stringify(e)};t.params.id?fetch("".concat("http://www.geotechmap.ueh.edu.ht","/api/institutions/")+t.params.id,i).then((function(e){return e.json()})).then((function(){return m(!0)})).then((function(){return M(!1)})).catch((function(e){console.log(e),f(!0),M(!1)})):fetch("".concat("http://www.geotechmap.ueh.edu.ht","/api/institutions/"),i).then((function(e){return e.json()})).then((function(){return m(!0)})).then((function(){return M(!1)})).catch((function(e){console.log(e),f(!0),M(!1)})),setTimeout((function(){m(!1),f(!1)}),3e3)},children:function(e){return Object(h.jsx)("div",{children:Object(h.jsxs)(l.b,{children:[E.isActive?Object(h.jsx)(o.a,{color:"info",closeButton:!0,children:E.message}):"",Object(h.jsxs)(o.M,{children:[Object(h.jsx)(o.l,{xs:"12",sm:"6",children:Object(h.jsxs)(o.g,{children:[Object(h.jsxs)(o.k,{children:["Informations sur l'institution   ",t.params.id]}),Object(h.jsxs)(o.h,{children:[Object(h.jsxs)(o.x,{children:[Object(h.jsx)(a.a,{label:"Nom*:",name:"nom",type:"text",placeholder:"Entrer le nom de l'institution...",autoComplete:"nom"}),Object(h.jsx)(o.y,{className:"help-block",children:"Veuillez entrer le nom de l'institution"})]}),Object(h.jsxs)(o.x,{children:[Object(h.jsx)(a.a,{label:"Sigle:",name:"sigle",type:"text",placeholder:"Entrer le sigle de l'institution...",autoComplete:"sigle"}),Object(h.jsx)(o.y,{className:"help-block",children:"Veuillez entrer le sigle de l'institution"})]}),Object(h.jsxs)(o.x,{children:[Object(h.jsx)(a.a,{label:"Adresse*:",name:"adresse",type:"text",placeholder:"Entrer l'adresse de l'institution..",autoComplete:"adresse"}),Object(h.jsx)(o.y,{className:"help-block",children:"Veuillez entrer l'adresse de l'institution"})]}),Object(h.jsxs)(o.x,{children:[Object(h.jsx)(a.a,{label:"T\xe9l\xe9phone 1:",name:"telephone1",type:"text",placeholder:"Entrer un num\xe9ro de t\xe9l\xe9phone...",autoComplete:"telephone1"}),Object(h.jsx)(o.y,{className:"help-block",children:"Veuillez entrer un num\xe9ro de t\xe9l\xe9phone de l'institution"})]}),Object(h.jsxs)(o.x,{children:[Object(h.jsx)(a.a,{label:"T\xe9l\xe9phone 2:",name:"telephone2",type:"text",placeholder:"Entrer un auntre num\xe9ro de t\xe9l\xe9phone...",autoComplete:"telephone2"}),Object(h.jsx)(o.y,{className:"help-block",children:"Veuillez entrer un autre num\xe9ro de t\xe9l\xe9phone de l'institution"})]})]})]})}),Object(h.jsx)(o.l,{xs:"12",sm:"6",children:Object(h.jsxs)(o.g,{children:[Object(h.jsxs)(o.k,{children:["Informations sur l'institution   ",t.params.id]}),Object(h.jsxs)(o.h,{children:[Object(h.jsxs)(o.x,{children:[Object(h.jsx)(a.a,{label:"Email*:",name:"email",type:"text",placeholder:"Enter l'email de l'institution...",autoComplete:"email"}),Object(h.jsx)(o.y,{className:"help-block",children:"Veuillez entrer l'email de l'institution"})]}),Object(h.jsxs)(o.x,{children:[Object(h.jsx)(a.a,{label:"Site web:",name:"siteWeb",type:"text",placeholder:"Entrer le site web de l'institution...",autoComplete:"siteWeb"}),Object(h.jsx)(o.y,{className:"help-block",children:"Veuillez entrer le site web de l'institution"})]}),Object(h.jsxs)(o.x,{children:[Object(h.jsx)(a.a,{label:"Num\xe9ro social:",name:"numeroFiscal",type:"text",placeholder:"Entrer le num\xe9ro social de l'institution...",autoComplete:"numeroFiscal"}),Object(h.jsx)(o.y,{className:"help-block",children:"Veuillez entrer le num\xe9ro social de l'intitution"})]}),Object(h.jsxs)(o.x,{children:[Object(h.jsx)(a.a,{label:"Description:",type:"textarea",name:"description",placeholder:"Entrer la description de l'institution...",autoComplete:"description"}),Object(h.jsx)(o.y,{className:"help-block",children:"Veuillez entrer la description de l'institution"})]})]}),Object(h.jsxs)(o.i,{children:[Object(h.jsxs)("button",{className:"btn btn-dark mt-3",type:"submit",disabled:V,children:[t.params.id?"Modifier":"Enregistrer",Object(h.jsx)(u.a,{loading:V,size:15})]}),Object(h.jsx)("button",{className:"btn btn-danger mt-3 ml-3",type:"reset",children:"R\xe9initialiser"})]})]})})]})]})})}}),Object(h.jsx)(o.l,{sm:"12",lg:"6",children:Object(h.jsx)(o.ab,{position:"top-right",children:Object(h.jsxs)(o.X,{show:b,autohide:4e3,fade:!0,children:[Object(h.jsx)(o.Z,{closeButton:!0,children:Object(h.jsx)(o.b,{className:"mr-1",color:"success",children:"SUCC\xc8S"})}),Object(h.jsx)(o.Y,{color:"success",children:"Op\xe9ration r\xe9ussie !"})]})})}),Object(h.jsx)(o.l,{sm:"12",lg:"6",children:Object(h.jsx)(o.ab,{position:"top-right",children:Object(h.jsxs)(o.X,{show:O,autohide:4e3,fade:!0,children:[Object(h.jsx)(o.Z,{closeButton:!0,children:Object(h.jsx)(o.b,{className:"mr-1",color:"danger",children:"ECHEC"})}),Object(h.jsx)(o.Y,{color:"danger",children:"Echec de l'op\xe9ration. Veuillez essayer plus tard !"})]})})})]})}}}]);
//# sourceMappingURL=15.a0a5fee1.chunk.js.map