(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[12],{683:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(41),c=n(174),s=n(175),a=(n(1),n(68)),l=n(682),r=n(10),o=function(e){var t=e.label,n=e.type,o=e.options,j=Object(s.a)(e,["label","type","options"]),d=Object(l.d)(j),u=Object(c.a)(d,2),b=u[0],h=u[1];return Object(r.jsxs)("div",{className:"mb-2",children:[Object(r.jsx)("label",{htmlFor:b.name,children:t}),"textarea"===n?Object(r.jsx)("textarea",Object(i.a)(Object(i.a)({className:"form-control shadow-none ".concat(h.touched&&h.error&&"is-invalid"),placeholder:"Veuillez entrer la description...",rows:"6"},b),j)):"select"===n?Object(r.jsxs)(a.N,Object(i.a)(Object(i.a)(Object(i.a)({name:t,className:"form-control shadow-none ".concat(h.touched&&h.error&&"is-invalid")},b),j),{},{children:[Object(r.jsx)("option",{value:0,children:"Choisir"}),o.map((function(e,t){return Object(r.jsx)("option",{value:e.id,children:e.nom},t)}))]})):"selectString"===n?Object(r.jsxs)(a.N,Object(i.a)(Object(i.a)(Object(i.a)({name:t,className:"form-control shadow-none ".concat(h.touched&&h.error&&"is-invalid")},b),j),{},{children:[Object(r.jsx)("option",{value:0,children:"Choisir"}),o.map((function(e,t){return Object(r.jsx)("option",{value:e,children:e},t)}))]})):"date"===n?Object(r.jsx)("input",Object(i.a)(Object(i.a)({type:"date",className:"form-control shadow-none ".concat(h.touched&&h.error&&"is-invalid")},b),j)):Object(r.jsx)("input",Object(i.a)(Object(i.a)({className:"form-control shadow-none ".concat(h.touched&&h.error&&"is-invalid")},b),j)),Object(r.jsx)(l.a,{component:"div",name:b.name,style:{position:"absolute",color:"red",fontSize:".6rem"}})]})}},868:function(e,t,n){"use strict";n.r(t);var i=n(174),c=n(1),s=n.n(c),a=n(682),l=n(683),r=n(691),o=n(68),j=n(45),d=n(680),u=n.n(d),b=n(10);t.default=function(e){var t=e.match,n=Object(c.useState)(!1),d=Object(i.a)(n,2),h=d[0],m=d[1],p=Object(c.useState)(!1),x=Object(i.a)(p,2),O=x[0],f=x[1];Object(c.useEffect)((function(){t.params.id&&fetch("".concat("http://www.geotechmap.ueh.edu.ht","/api/institutions/")+t.params.id).then((function(e){return e.json()})).then((function(e){return v(e.institutionDto)}))}),[t.params.id]);var g=Object(c.useState)(null),y=Object(i.a)(g,2),N=y[0],v=y[1],w=s.a.useState({isActive:!1,status:"",message:""}),C=Object(i.a)(w,2),E=C[0],k=(C[1],r.b({nom:r.c().max(100,"Maximum 100 caract\xe8res").required("Champs obligatire"),sigle:r.c().max(45,"Maximum 45 caract\xe8res"),adresse:r.c().max(45,"Maximum 45 caract\xe8res").required("Champs obligatire"),telephone1:r.c().max(15,"Maximum 15 caract\xe8res").required("Champs obligatire"),telephone2:r.c().max(15,"Maximum 15 caract\xe8res"),email:r.c().email("Email invalide").required("Champs obligatire"),siteWeb:r.c().max(45,"Maximum 45 caract\xe8res"),numeroFiscal:r.c().max(45,"Maximum 45 caract\xe8res").required("Champs obligatire"),description:r.c().max(255,"Maximum 255 caract\xe8res")})),z=Object(c.useState)(!1),S=Object(i.a)(z,2),V=S[0],M=S[1];return Object(b.jsxs)("div",{children:[Object(b.jsx)(a.c,{initialValues:N||{nom:"",sigle:"",adresse:"",telephone1:"",telephone2:"",email:"",siteWeb:"",numeroFiscal:"",description:""},enableReinitialize:!0,validationSchema:k,onSubmit:function(e){M(!0);var n={method:t.params.id?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(j.a.getToken())},body:JSON.stringify(e)};t.params.id?fetch("".concat("http://www.geotechmap.ueh.edu.ht","/api/institutions/")+t.params.id,n).then((function(e){return e.json()})).then((function(){return m(!0)})).then((function(){return M(!1)})).catch((function(e){console.log(e),f(!0),M(!1)})):fetch("".concat("http://www.geotechmap.ueh.edu.ht","/api/institutions/"),n).then((function(e){return e.json()})).then((function(){return m(!0)})).then((function(){return M(!1)})).catch((function(e){console.log(e),f(!0),M(!1)})),setTimeout((function(){m(!1),f(!1)}),3e3)},children:function(e){return Object(b.jsx)("div",{children:Object(b.jsxs)(a.b,{children:[E.isActive?Object(b.jsx)(o.a,{color:"info",closeButton:!0,children:E.message}):"",Object(b.jsxs)(o.M,{children:[Object(b.jsx)(o.l,{xs:"12",sm:"6",children:Object(b.jsxs)(o.g,{children:[Object(b.jsxs)(o.k,{children:["Informations sur l'institution   ",t.params.id]}),Object(b.jsxs)(o.h,{children:[Object(b.jsxs)(o.x,{children:[Object(b.jsx)(l.a,{label:"Nom*:",name:"nom",type:"text",placeholder:"Entrer le nom de l'institution...",autoComplete:"nom"}),Object(b.jsx)(o.y,{className:"help-block",children:"Veuillez entrer le nom de l'institution"})]}),Object(b.jsxs)(o.x,{children:[Object(b.jsx)(l.a,{label:"Sigle:",name:"sigle",type:"text",placeholder:"Entrer le sigle de l'institution...",autoComplete:"sigle"}),Object(b.jsx)(o.y,{className:"help-block",children:"Veuillez entrer le sigle de l'institution"})]}),Object(b.jsxs)(o.x,{children:[Object(b.jsx)(l.a,{label:"Adresse*:",name:"adresse",type:"text",placeholder:"Entrer l'adresse de l'institution..",autoComplete:"adresse"}),Object(b.jsx)(o.y,{className:"help-block",children:"Veuillez entrer l'adresse de l'institution"})]}),Object(b.jsxs)(o.x,{children:[Object(b.jsx)(l.a,{label:"T\xe9l\xe9phone 1:",name:"telephone1",type:"text",placeholder:"Entrer un num\xe9ro de t\xe9l\xe9phone...",autoComplete:"telephone1"}),Object(b.jsx)(o.y,{className:"help-block",children:"Veuillez entrer un num\xe9ro de t\xe9l\xe9phone de l'institution"})]}),Object(b.jsxs)(o.x,{children:[Object(b.jsx)(l.a,{label:"T\xe9l\xe9phone 2:",name:"telephone2",type:"text",placeholder:"Entrer un auntre num\xe9ro de t\xe9l\xe9phone...",autoComplete:"telephone2"}),Object(b.jsx)(o.y,{className:"help-block",children:"Veuillez entrer un autre num\xe9ro de t\xe9l\xe9phone de l'institution"})]})]})]})}),Object(b.jsx)(o.l,{xs:"12",sm:"6",children:Object(b.jsxs)(o.g,{children:[Object(b.jsxs)(o.k,{children:["Informations sur l'institution   ",t.params.id]}),Object(b.jsxs)(o.h,{children:[Object(b.jsxs)(o.x,{children:[Object(b.jsx)(l.a,{label:"Email*:",name:"email",type:"text",placeholder:"Enter l'email de l'institution...",autoComplete:"email"}),Object(b.jsx)(o.y,{className:"help-block",children:"Veuillez entrer l'email de l'institution"})]}),Object(b.jsxs)(o.x,{children:[Object(b.jsx)(l.a,{label:"Site web:",name:"siteWeb",type:"text",placeholder:"Entrer le site web de l'institution...",autoComplete:"siteWeb"}),Object(b.jsx)(o.y,{className:"help-block",children:"Veuillez entrer le site web de l'institution"})]}),Object(b.jsxs)(o.x,{children:[Object(b.jsx)(l.a,{label:"Num\xe9ro social:",name:"numeroFiscal",type:"text",placeholder:"Entrer le num\xe9ro social de l'institution...",autoComplete:"numeroFiscal"}),Object(b.jsx)(o.y,{className:"help-block",children:"Veuillez entrer le num\xe9ro social de l'intitution"})]}),Object(b.jsxs)(o.x,{children:[Object(b.jsx)(l.a,{label:"Description:",type:"textarea",name:"description",placeholder:"Entrer la description de l'institution...",autoComplete:"description"}),Object(b.jsx)(o.y,{className:"help-block",children:"Veuillez entrer la description de l'institution"})]})]}),Object(b.jsxs)(o.i,{children:[Object(b.jsxs)("button",{className:"btn btn-dark mt-3",type:"submit",disabled:V,children:[t.params.id?"Modifier":"Enregistrer",Object(b.jsx)(u.a,{loading:V,size:15})]}),Object(b.jsx)("button",{className:"btn btn-danger mt-3 ml-3",type:"reset",children:"R\xe9initialiser"})]})]})})]})]})})}}),Object(b.jsx)(o.l,{sm:"12",lg:"6",children:Object(b.jsx)(o.ab,{position:"top-right",children:Object(b.jsxs)(o.X,{show:h,autohide:4e3,fade:!0,children:[Object(b.jsx)(o.Z,{closeButton:!0,children:Object(b.jsx)(o.b,{className:"mr-1",color:"success",children:"SUCC\xc8S"})}),Object(b.jsx)(o.Y,{color:"success",children:"Op\xe9ration r\xe9ussie !"})]})})}),Object(b.jsx)(o.l,{sm:"12",lg:"6",children:Object(b.jsx)(o.ab,{position:"top-right",children:Object(b.jsxs)(o.X,{show:O,autohide:4e3,fade:!0,children:[Object(b.jsx)(o.Z,{closeButton:!0,children:Object(b.jsx)(o.b,{className:"mr-1",color:"danger",children:"ECHEC"})}),Object(b.jsx)(o.Y,{color:"danger",children:"Echec de l'op\xe9ration. Veuillez essayer plus tard !"})]})})})]})}}}]);
//# sourceMappingURL=12.a1c7b270.chunk.js.map