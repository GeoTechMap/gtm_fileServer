(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[16],{685:function(e,t,c){"use strict";c.d(t,"a",(function(){return l}));var s=c(40),n=c(173),a=c(174),r=(c(1),c(67)),i=c(684),o=c(10),l=function(e){var t=e.label,c=e.type,l=e.options,j=Object(a.a)(e,["label","type","options"]),d=Object(i.d)(j),b=Object(n.a)(d,2),u=b[0],h=b[1];return Object(o.jsxs)("div",{className:"mb-2",children:[Object(o.jsx)("label",{htmlFor:u.name,children:t}),"textarea"===c?Object(o.jsx)("textarea",Object(s.a)(Object(s.a)({className:"form-control shadow-none ".concat(h.touched&&h.error&&"is-invalid"),placeholder:"Veuillez entrer la description...",rows:"6"},u),j)):"select"===c?Object(o.jsxs)(r.N,Object(s.a)(Object(s.a)(Object(s.a)({name:t,className:"form-control shadow-none ".concat(h.touched&&h.error&&"is-invalid")},u),j),{},{children:[Object(o.jsx)("option",{value:0,children:"Choisir"}),l.map((function(e,t){return Object(o.jsx)("option",{value:e.id,children:e.nom},t)}))]})):"selectString"===c?Object(o.jsxs)(r.N,Object(s.a)(Object(s.a)(Object(s.a)({name:t,className:"form-control shadow-none ".concat(h.touched&&h.error&&"is-invalid")},u),j),{},{children:[Object(o.jsx)("option",{value:0,children:"Choisir"}),l.map((function(e,t){return Object(o.jsx)("option",{value:e,children:e},t)}))]})):Object(o.jsx)("input",Object(s.a)(Object(s.a)({className:"form-control shadow-none ".concat(h.touched&&h.error&&"is-invalid")},u),j)),Object(o.jsx)(i.a,{component:"div",name:u.name,style:{position:"absolute",color:"red",fontSize:".6rem"}})]})}},896:function(e,t,c){"use strict";c.r(t);var s=c(173),n=c(1),a=c.n(n),r=c(684),i=c(685),o=c(703),l=c(67),j=c(44),d=c(680),b=c.n(d),u=(c(388),c(10));t.default=function(e){var t=e.match,c=Object(n.useState)(!1),d=Object(s.a)(c,2),h=d[0],m=d[1],p=Object(n.useState)(!1),O=Object(s.a)(p,2),x=O[0],f=O[1];Object(n.useEffect)((function(){t.params.id&&fetch("".concat("http://3.129.81.68:8080/webmap","/api/type_essais/")+t.params.id).then((function(e){return e.json()})).then((function(e){return C(e.typeEssaiDto)}))}),[t.params.id]);var g=Object(n.useState)(null),y=Object(s.a)(g,2),v=y[0],C=y[1],w=a.a.useState({isActive:!1,status:"",message:""}),N=Object(s.a)(w,2),S=N[0],k=(N[1],o.b({nom:o.c().max(45,"Maximum 45 caract\xe8res").required("Champs obligatoire"),sigle:o.c().max(45,"Maximum 45 caract\xe8res"),codeCouleur:o.c().max(6,"Maximum 6 caract\xe8res"),description:o.c().max(255,"Maximum 255 caract\xe8res")})),z=Object(n.useState)("Echec du processus. Veuillez essayer ult\xe9rieurement !"),E=Object(s.a)(z,2),A=E[0],V=E[1],M=Object(n.useState)(!1),B=Object(s.a)(M,2),F=B[0],T=B[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)(r.c,{initialValues:v||{nom:"",sigle:"",codeCouleur:"0077FF",description:""},enableReinitialize:!0,validationSchema:k,onSubmit:function(e){T(!0);var c={method:t.params.id?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(j.a.getToken()),"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0},body:JSON.stringify(e)};t.params.id?fetch("".concat("http://3.129.81.68:8080/webmap","/api/type_essais/")+t.params.id,c).then((function(e){return e.json()})).then((function(e){return"success"!==e.message&&(console.log(e.message),V(e.message),f(!0),T(!1)),e})).then((function(){return m(!0)})).then((function(){return T(!1)})).catch((function(e){console.log(e),f(!0),T(!1)})):fetch("".concat("http://3.129.81.68:8080/webmap","/api/type_essais/"),c).then((function(e){return e.json()})).then((function(e){return"success"!==e.message&&(console.log(e.message),V(e.message),f(!0),T(!1)),e})).then((function(){return m(!0)})).then((function(){return T(!1)})).catch((function(e){console.log(e),f(!0),T(!1)})),setTimeout((function(){m(!1),f(!1)}),3e3)},children:function(e){return Object(u.jsx)("div",{children:Object(u.jsxs)(r.b,{children:[S.isActive?Object(u.jsx)(l.a,{color:"info",closeButton:!0,children:S.message}):"",Object(u.jsxs)(l.M,{children:[Object(u.jsx)(l.l,{xs:"12",sm:"6",children:Object(u.jsxs)(l.g,{children:[Object(u.jsxs)(l.k,{children:["Informations sur le type de d'essai   ",t.params.id]}),Object(u.jsxs)(l.h,{children:[Object(u.jsxs)(l.x,{children:[Object(u.jsx)(i.a,{label:"Nom*:",name:"nom",type:"text",placeholder:"Entrer le nom du type d'essai...",autoComplete:"nom"}),Object(u.jsx)(l.y,{className:"help-block",children:"Veillez entrer le nom du type d'essai"})]}),Object(u.jsxs)(l.x,{children:[Object(u.jsx)(i.a,{label:"Sigle:",name:"sigle",type:"text",placeholder:"Entrer l'abbr\xe9viation du type d'essai..",autoComplete:"sigle"}),Object(u.jsx)(l.y,{className:"help-block",children:"Veillez entrer l'abbr\xe9viation du type d'essai"})]})]})]})}),Object(u.jsx)(l.l,{xs:"12",sm:"6",children:Object(u.jsxs)(l.g,{children:[Object(u.jsxs)(l.k,{children:["Informations sur le type d'essai   ",t.params.id]}),Object(u.jsxs)(l.h,{children:[Object(u.jsxs)(l.x,{children:[Object(u.jsx)(i.a,{label:"Code couleur:",name:"codeCouleur",type:"text",placeholder:"Exemple: 0077FF",autoComplete:"codeCouleur"}),Object(u.jsxs)(l.y,{className:"help-block",children:["Veillez entrer le code de couleur du marqueur en hexad\xe9cimal",Object(u.jsx)("a",{href:"https://www.rapidtables.com/web/color/RGB_Color.html",target:"_blank",children:"(aide)"})]})]}),Object(u.jsxs)(l.x,{children:[Object(u.jsx)(i.a,{label:"Description:",type:"textarea",name:"description",placeholder:"Entrer la description de t\xe9l\xe9phone...",autoComplete:"description"}),Object(u.jsx)(l.y,{className:"help-block",children:"Veillez entrer la description de l'institution"})]})]}),Object(u.jsxs)(l.i,{children:[Object(u.jsxs)("button",{className:"btn btn-dark mt-3",type:"submit",disabled:F,children:[t.params.id?"Modifier":"Enregistrer",Object(u.jsx)(b.a,{loading:F,size:15})]}),Object(u.jsx)("button",{className:"btn btn-danger mt-3 ml-3",type:"reset",children:"R\xe9initialiser"})]})]})})]})]})})}}),Object(u.jsx)(l.l,{sm:"12",lg:"6",children:Object(u.jsx)(l.ab,{position:"top-right",children:Object(u.jsxs)(l.X,{show:h,autohide:4e3,fade:!0,children:[Object(u.jsx)(l.Z,{closeButton:!0,children:Object(u.jsx)(l.b,{className:"mr-1",color:"success",children:"SUCC\xc8S"})}),Object(u.jsx)(l.Y,{color:"success",children:"Op\xe9ration r\xe9ussie !"})]})})}),Object(u.jsx)(l.l,{sm:"12",lg:"6",children:Object(u.jsx)(l.ab,{position:"top-right",children:Object(u.jsxs)(l.X,{show:x,autohide:4e3,fade:!0,children:[Object(u.jsx)(l.Z,{closeButton:!0,children:Object(u.jsx)(l.b,{className:"mr-1",color:"danger",children:"ECHEC"})}),Object(u.jsx)(l.Y,{color:"danger",children:A})]})})})]})}}}]);
//# sourceMappingURL=16.879a0821.chunk.js.map